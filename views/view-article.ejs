<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Trendy Blogs - Reader Home</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="/styles.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
        integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

</head>
<style>
    body {
        background-color: #f9f9f9;
        background-image: url("./images/bg.jpg");
    }
</style>

<body>
    <header>
        <div id="menu-bar" class="fa-solid fa-bars"></div>
        <a href="/home" class="logo">Trendy Blogs</a>
        <nav class="navbar">
            <a href="/home">Home</a>
        </nav>
    </header>


    <section class="article-content topi">
        <div class="container" style="max-width: 800px; margin: auto; padding: 20px;">
            <div style="text-align: left; max-width: 800px; margin: auto; padding: 20px;">
                <h1 class="heading" style="font-size: 3rem; margin-bottom: 1rem;">
                    <%= article.article_title %>
                </h1>
                <div
                    style="display: flex; justify-content: space-between; align-items: center; font-size: 1.5rem; margin-bottom: 20px;">
                    <p>
                        <i class="fa-solid fa-calendar-day" style="margin-right: 10px;"></i>
                        <strong>Published on:</strong>
                        <%= article.created_at %>
                    </p>
                    <p>
                        <i class="fa-solid fa-heart" style="margin-right: 10px; margin-left: 10px; cursor: pointer;"
                            id="likeIcon"></i>
                        <strong>Likes:</strong>
                        <%= article.likes %>
                    </p>
                </div>
            </div>

            <article
                style="background-color: #f9f9f9; padding: 20px; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.8); text-align: left;font-size: 1.5rem;">
                <%= article.article_content %>
            </article>

            <div class="interaction-section"
                style="display: flex; justify-content:flex-start; align-items: center; margin-top: 20px;">
                <form action="/like-article/<%= article.article_id %>" method="post">
                    <button type="submit" class="btn"
                        style="padding: 1rem 1.5rem; font-size: 1.5rem; width: auto;margin-right: 10px;">
                        <i class="fa-solid fa-heart"></i> Like
                    </button>
                </form>

            </div>



            <div class="comment-form" style="margin-top: 20px;">
                <form action="/post-comment" method="POST" class="comment-form" style="margin-top: 2rem;">
                    <input type="hidden" name="articleId" value="<%= article.article_id %>">
                    <input type="text" name="commenterName" placeholder="Your Name" required
                        style="padding: 1rem; margin-bottom: 1rem; width: 100%;">
                    <textarea name="comment" placeholder="Your Comment" required
                        style="padding: 1rem; width: 100%; margin-bottom: 1rem;"></textarea>
                    <button type="submit" class="btn" style="padding: 1rem 1.5rem; font-size: 1.5rem; width: auto;">
                        <i class="fa-solid fa-book"></i> Post Comment
                    </button>
                </form>
            </div>

            <!-- Existing comment section design -->
            <div class="comments-section"
                style="background-color: #f9f9f9; padding: 20px; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.8);margin-top: 15px;">
                <h1 class="heading" style="font-size: 2rem; margin-bottom: 1rem; text-align: left;">Comments</h1>

                <!-- Loop through each comment -->
                <% comments.forEach(function(comment) { %>
                    <div class="comment" style="padding: 1rem; border-bottom: 1px solid #ddd; margin-bottom: 1rem;">
                        <p style="font-weight: bold; color: var(--black); margin-bottom: 0.5rem;">
                            <%= comment.commenter_name %>
                        </p>
                        <p style="margin-bottom: 0.5rem; color: var(--black);">
                            <%= comment.comment %>
                        </p>
                        <p style="font-size: 0.9rem; color: #666;">Posted on <%= comment.posted_at %>
                        </p>
                    </div>
                    <% }); %>

                        <!-- Display this if there are no comments -->
                        <% if (comments.length===0) { %>
                            <p>No comments yet. Be the first to comment!</p>
                            <% } %>
            </div>

        </div>
        <a href="/reader-home" class="btn" style="display: block; width: max-content; margin: 20px auto;">Back to Reader
            Home</a>
    </section>


    <section class="footer">
        <div class="box-container">
            <div class="box">
                <h3>About Trendy Blogs</h3>
                <a href="/about">About Us</a>
                <a href="/blog">Blog</a>
                <a href="/team">Our Team</a>
                <a href="/contact">Contact Us</a>
            </div>
            <div class="box">
                <h3>Resources</h3>
                <a href="/guides">Guides</a>
                <a href="/categories">Categories</a>
                <a href="/faq">FAQs</a>
                <a href="/support">Support</a>
            </div>
            <div class="box">
                <h3>Follow Us</h3>
                <a href="https://www.facebook.com">Facebook</a>
                <a href="https://www.twitter.com">Twitter</a>
                <a href="https://www.instagram.com">Instagram</a>
                <a href="https://www.youtube.com">YouTube</a>
            </div>
            <div class="box">
                <h3>Legal</h3>
                <a href="/privacy-policy">Privacy Policy</a>
                <a href="/terms-of-service">Terms of Service</a>
                <a href="/cookie-policy">Cookie Policy</a>
                <a href="/disclaimer">Disclaimer</a>
            </div>
        </div>
    </section>
</body>

</html>